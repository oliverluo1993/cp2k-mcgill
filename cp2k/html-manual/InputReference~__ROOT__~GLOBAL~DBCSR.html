<HTML><BODY>
<HEAD><TITLE> The CP2K project : input section DBCSR                                                                           </TITLE></HEAD>
<META NAME="description" content="CP2K">
<META NAME="keywords" contents="scientific,computing,chemistry,physics,documentation,help,manual,Fortran,parallel">
<H1> Section DBCSR                                                                            </H1>
 <A HREF="index.html">Index of all sections</A>. This section is located at 
<A HREF="InputReference~__ROOT__.html">__ROOT__</A>%<A HREF="InputReference~__ROOT__~GLOBAL.html">GLOBAL</A>%<A HREF="InputReference~__ROOT__~GLOBAL~DBCSR.html">DBCSR</A>.
<BR><BR>Configuration options for the DBCSR library. This section can not be repeated.
<BR><BR> This section cites following references: 
<A HREF="references.html#reference_143" TITLE="
 Borstnik, U; VandeVondele, J; Weber, V; Hutter, J. 
 PARALLEL COMPUTING, 40 (5-6), 47-58 (2014). 
 Sparse matrix multiplication: The distributed block-compressed sparse
 row library.
 http://dx.doi.org/10.1016/j.parco.2014.03.012
">[Borstnik2014]</A>
<A HREF="references.html#reference_173" TITLE="
 Schuett, Ole; Messmer, Peter; Hutter, Juerg; VandeVondele, Joost. 
 Electronic Structure Calculations on Graphics Processing Units, John Wiley & Sons, Ltd, 173-190 (2016). 
 GPU-Accelerated Sparse Matrix-Matrix Multiplication for Linear Scaling Density Functional Theory.
 http://dx.doi.org/10.1002/9781118670712.ch8
">[Schuett2016]</A>
<H2> Subsections</H2>
<UL>
<LI><A HREF="InputReference~__ROOT__~GLOBAL~DBCSR~ACC.html">ACC </A>
</UL>
<H2> Section keywords </H2>
<UL>
<LI><A HREF="#MM_STACK_SIZE">MM_STACK_SIZE </A>
<LI><A HREF="#MM_DRIVER">MM_DRIVER </A>
<LI><A HREF="#AVG_ELEMENTS_IMAGES">AVG_ELEMENTS_IMAGES </A>
<LI><A HREF="#NUM_MULT_IMAGES">NUM_MULT_IMAGES </A>
<LI><A HREF="#USE_MPI_RMA">USE_MPI_RMA </A>
<LI><A HREF="#NUM_LAYERS_3D">NUM_LAYERS_3D </A>
<LI><A HREF="#N_SIZE_MNK_STACKS">N_SIZE_MNK_STACKS </A>
<LI><A HREF="#USE_COMM_THREAD">USE_COMM_THREAD </A>
<LI><A HREF="#MAX_ELEMENTS_PER_BLOCK">MAX_ELEMENTS_PER_BLOCK </A>
<LI><A HREF="#COMM_THREAD_LOAD">COMM_THREAD_LOAD </A>
<LI><A HREF="#MULTREC_LIMIT">MULTREC_LIMIT </A>
</UL>
<H2> Keyword descriptions </H2>
<TABLE>
<TR><TD WITDH="20%"><A NAME="MM_STACK_SIZE"><u>MM_STACK_SIZE</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">mm_stack_size 1000
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Size of multiplication parameter stack. A negative value leaves the decision up to DBCSR.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  -1
<TR><TD WITDH="20%"><A NAME="MM_DRIVER"><u>MM_DRIVER</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">mm_driver blas
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Select which backend to use preferably for matrix block multiplications on the host.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a keyword. Default value:  AUTO
<TR><TD WIDTH="10%"><TD>  valid keywords:<ul> <li><code>AUTO</code>: Choose automatically the best available driver</li>
<li><code>BLAS</code>: BLAS (requires the BLAS library at link time)</li>
<li><code>MATMUL</code>: Fortran MATMUL</li>
<li><code>SMM</code>: Library optimised for Small Matrix Multiplies (requires the SMM library at link time)</li>
<li><code>XSMM</code>: Intel's libxsmm</li>
</ul><TR><TD WITDH="20%"><A NAME="AVG_ELEMENTS_IMAGES"><u>AVG_ELEMENTS_IMAGES</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">avg_elements_images 10000
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Average number of elements (dense limit) for each image, which also corresponds to the average number of elements exchanged between MPI processes during the operations. A negative or zero value means unlimited.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  -1
<TR><TD WITDH="20%"><A NAME="NUM_MULT_IMAGES"><u>NUM_MULT_IMAGES</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">num_mult_images 2
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Multiplicative factor for number of virtual images.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  1
<TR><TD WITDH="20%"><A NAME="USE_MPI_RMA"><u>USE_MPI_RMA</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">use_mpi_rma F
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Use RMA for MPI communications for each image, which also corresponds to the number of elements exchanged between MPI processes during the operations.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical. Default value:  F
<TR><TD WITDH="20%"><A NAME="NUM_LAYERS_3D"><u>NUM_LAYERS_3D</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">num_layers_3D 1
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Number of layers for the 3D multplication algorithm.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  1
<TR><TD WITDH="20%"><A NAME="N_SIZE_MNK_STACKS"><u>N_SIZE_MNK_STACKS</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">n_size_mnk_stacks 2
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Number of stacks to use for distinct atomic sizes (e.g., 2 for a system of mostly waters).</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  3
<TR><TD WITDH="20%"><A NAME="USE_COMM_THREAD"><u>USE_COMM_THREAD</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">use_comm_thread T
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>During multiplication, use a thread to periodically poll MPI to progress outstanding message completions.  This is beneficial on systems without a DMA-capable network adapter e.g. Cray XE6.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical. Default value:  T
<TR><TD WITDH="20%"><A NAME="MAX_ELEMENTS_PER_BLOCK"><u>MAX_ELEMENTS_PER_BLOCK</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">MAX_ELEMENTS_PER_BLOCK 32
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Default block size for turning dense matrices in blocked ones</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  32
<TR><TD WITDH="20%"><A NAME="COMM_THREAD_LOAD"><u>COMM_THREAD_LOAD</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">comm_thread_load 50
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>If a communications thread is used, specify how much multiplication workload (%) the thread should perform in addition to communication tasks. A negative value leaves the decision up to DBCSR.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  -1
<TR><TD WITDH="20%"><A NAME="MULTREC_LIMIT"><u>MULTREC_LIMIT</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Recursion limit of cache oblivious multrec algorithm.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  512
</TABLE>
<BR><hr>Back to the <A HREF="https://www.cp2k.org/">CP2K homepage</A> or the latest version of <A HREF="https://manual.cp2k.org/trunk/">this manual</A>
</BODY></HTML>
