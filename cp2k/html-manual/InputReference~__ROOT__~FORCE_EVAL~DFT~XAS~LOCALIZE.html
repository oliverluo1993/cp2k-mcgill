<HTML><BODY>
<HEAD><TITLE> The CP2K project : input section LOCALIZE                                                                        </TITLE></HEAD>
<META NAME="description" content="CP2K">
<META NAME="keywords" contents="scientific,computing,chemistry,physics,documentation,help,manual,Fortran,parallel">
<H1> Section LOCALIZE                                                                         </H1>
 <A HREF="index.html">Index of all sections</A>. This section is located at 
<A HREF="InputReference~__ROOT__.html">__ROOT__</A>%<A HREF="InputReference~__ROOT__~FORCE_EVAL.html">FORCE_EVAL</A>%<A HREF="InputReference~__ROOT__~FORCE_EVAL~DFT.html">DFT</A>%<A HREF="InputReference~__ROOT__~FORCE_EVAL~DFT~XAS.html">XAS</A>%<A HREF="InputReference~__ROOT__~FORCE_EVAL~DFT~XAS~LOCALIZE.html">LOCALIZE</A>.
<BR><BR>Use one of the available methods to define the localization  and possibly to optimize it to a minimum or a maximum. This section can not be repeated.
<H2> Subsections</H2>
<UL>
<LI><A HREF="InputReference~__ROOT__~FORCE_EVAL~DFT~XAS~LOCALIZE~PRINT.html">PRINT </A>
</UL>
<H2> Section keywords </H2>
<UL>
<LI><A HREF="#_SECTION_PARAMETERS_">_SECTION_PARAMETERS_ </A>
<LI><A HREF="#MAX_ITER">MAX_ITER </A>
<LI><A HREF="#MAX_CRAZY_ANGLE">MAX_CRAZY_ANGLE </A>
<LI><A HREF="#CRAZY_SCALE">CRAZY_SCALE </A>
<LI><A HREF="#CRAZY_USE_DIAG">CRAZY_USE_DIAG </A>
<LI><A HREF="#USE_HISTORY">USE_HISTORY </A>
<LI><A HREF="#EPS_OCCUPATION">EPS_OCCUPATION </A>
<LI><A HREF="#OUT_ITER_EACH">OUT_ITER_EACH </A>
<LI><A HREF="#EPS_LOCALIZATION">EPS_LOCALIZATION </A>
<LI><A HREF="#MIN_OR_MAX">MIN_OR_MAX </A>
<LI><A HREF="#METHOD">METHOD </A>
<LI><A HREF="#JACOBI_FALLBACK">JACOBI_FALLBACK </A>
<LI><A HREF="#RESTART">RESTART </A>
<LI><A HREF="#LOCHOMO_RESTART_FILE_NAME">LOCHOMO_RESTART_FILE_NAME </A>
<LI><A HREF="#LOCLUMO_RESTART_FILE_NAME">LOCLUMO_RESTART_FILE_NAME </A>
<LI><A HREF="#OPERATOR">OPERATOR </A>
<LI><A HREF="#LIST">LIST </A>
<LI><A HREF="#LIST_UNOCCUPIED">LIST_UNOCCUPIED </A>
<LI><A HREF="#STATES">STATES </A>
<LI><A HREF="#ENERGY_RANGE">ENERGY_RANGE </A>
</UL>
<H2> Keyword descriptions </H2>
<TABLE>
<TR><TD WITDH="20%"><A NAME="_SECTION_PARAMETERS_"><u>_SECTION_PARAMETERS_</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">&LOCALIZE T
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>controls the activation of the MOS localization procedure</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical<TR><TD WIDTH="10%"><TD>This keyword behaves as a switch T
. Default value:  F
<TR><TD WITDH="20%"><A NAME="MAX_ITER"><u>MAX_ITER</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">MAX_ITER 2000
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Maximum number of iterations used for localization methods</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  10000
<TR><TD WITDH="20%"><A NAME="MAX_CRAZY_ANGLE"><u>MAX_CRAZY_ANGLE</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">MAX_CRAZY_ANGLE 0.1
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Largest allowed angle for the crazy rotations algorithm (smaller is slower but more stable).</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a real. Default unit: [rad], default value:     2.0000000000000001E-01
rad<TR><TD WITDH="20%"><A NAME="CRAZY_SCALE"><u>CRAZY_SCALE</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">CRAZY_SCALE 0.9
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>scale angles</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a real. Default value:     1.0000000000000000E+00
<TR><TD WITDH="20%"><A NAME="CRAZY_USE_DIAG"><u>CRAZY_USE_DIAG</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">CRAZY_USE_DIAG
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Use diagonalization (slow) or pade based calculation of matrix exponentials.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical<TR><TD WIDTH="10%"><TD>This keyword behaves as a switch T
. Default value:  F
<TR><TD WITDH="20%"><A NAME="USE_HISTORY"><u>USE_HISTORY</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">USE_HISTORY
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Generate an improved initial guess based on a history of results, which is useful during MD.Will only work if the number of states to be localized remains constant.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical<TR><TD WIDTH="10%"><TD>This keyword behaves as a switch T
. Default value:  F
<TR><TD WITDH="20%"><A NAME="EPS_OCCUPATION"><u>EPS_OCCUPATION</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">EPS_OCCUPATION 1.E-5
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Tolerance in the occupation number to select only fully occupied orbitals for the rotation</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a real. Default value:     1.0000000000000000E-08
<TR><TD WITDH="20%"><A NAME="OUT_ITER_EACH"><u>OUT_ITER_EACH</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">OUT_ITER_EACH 100
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Every how many iterations of the localization algorithm(Jacobi) the tolerance value is printed out</i>
<TR><TD WIDTH="10%"><TD> This keyword expects an integer. Default value:  100
<TR><TD WITDH="20%"><A NAME="EPS_LOCALIZATION"><u>EPS_LOCALIZATION</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">EPS_LOCALIZATION 1.0E-2
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Tolerance used in the convergence criterion of the localization methods.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a real. Default value:     1.0000000000000000E-04
<TR><TD WITDH="20%"><A NAME="MIN_OR_MAX"><u>MIN_OR_MAX</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">MIN_OR_MAX (SPREADMIN|SPREADMAX)
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Requires the maximization of the spread of the wfn</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a keyword. Default value:  SPREADMIN
<TR><TD WIDTH="10%"><TD>  valid keywords: SPREADMIN, SPREADMAX<TR><TD WITDH="20%"><A NAME="METHOD"><u>METHOD</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">METHOD (JACOBI|CRAZY|DIRECT|L1SD|NONE)
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Method of optimization if any</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a keyword. Default value:  JACOBI
<TR><TD WIDTH="10%"><TD>  valid keywords:<ul> <li><code>NONE</code>: No localization is applied</li>
<li><code>JACOBI</code>: Using 2 x 2 rotations of the orbitals, slow but robust</li>
<li><code>CRAZY</code>: A new fast method is applied, might be slightly less robust than jacobi, but usually much faster</li>
<li><code>L1SD</code>: Steepest descent minimization of an approximate l1 norm</li>
<li><code>DIRECT</code>: Using a direct minimisation approach</li>
</ul><TR><TD WITDH="20%"><A NAME="JACOBI_FALLBACK"><u>JACOBI_FALLBACK</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">JACOBI_FALLBACK
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Use Jacobi method in case no convergence was achieved by using the crazy rotations method.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical<TR><TD WIDTH="10%"><TD>This keyword behaves as a switch T
. Default value:  T
<TR><TD WITDH="20%"><A NAME="RESTART"><u>RESTART</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">RESTART
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Restart the localization from a set of orbitals read from a localization restart file.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a logical<TR><TD WIDTH="10%"><TD>This keyword behaves as a switch T
. Default value:  F
<TR><TD WITDH="20%"><A NAME="LOCHOMO_RESTART_FILE_NAME"><u>LOCHOMO_RESTART_FILE_NAME</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">LOCHOMO_RESTART_FILE_NAME <FILENAME>
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>File name where to read the MOS fromwhich to restart the localization procedure for occupied states</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a string<TR><TD WITDH="20%"><A NAME="LOCLUMO_RESTART_FILE_NAME"><u>LOCLUMO_RESTART_FILE_NAME</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">LOCLUMO_RESTART_FILE_NAME <FILENAME>
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>File name where to read the MOS fromwhich to restart the localization procedure for unoccupied states</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a string<TR><TD WITDH="20%"><A NAME="OPERATOR"><u>OPERATOR</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">OPERATOR (BERRY|BOYS|PIPEK)
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Type of opertator which defines the spread functional</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a keyword. Default value:  BERRY
<TR><TD WIDTH="10%"><TD>  valid keywords: BERRY, BOYS, PIPEK<TR><TD WITDH="20%"><A NAME="LIST"><u>LIST</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">LIST 1 2
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Indexes of the occupied wfn to be localizedThis keyword can be repeated several times(useful if you have to specify many indexes).</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a list of integers, and may repeat<TR><TD WITDH="20%"><A NAME="LIST_UNOCCUPIED"><u>LIST_UNOCCUPIED</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">LIST 1 2
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Indexes of the unoccupied states to be localized, up to now only valid in combination with GPW. This keyword has to be present if unoccupied states should be localized. This keyword can be repeated several times(useful if you have to specify many indexes).</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a list of integers, and may repeat<TR><TD WITDH="20%"><A NAME="STATES"><u>STATES</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%">STATES (HOMO|LUMO|ALL)
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Which states to localize, LUMO up to now only available in GPW</i>
<TR><TD WIDTH="10%"><TD> This keyword expects a keyword. Default value:  OCCUPIED
<TR><TD WIDTH="10%"><TD>  valid keywords: OCCUPIED, UNOCCUPIED, ALL<TR><TD WITDH="20%"><A NAME="ENERGY_RANGE"><u>ENERGY_RANGE</u></A><TD WIDTH="80%">
<TR><TD WIDTH="20%"><TD WIDTH="80%"> ENERGY_RANGE lower_bound {real}, higher_bound {real}
<TR><TD WIDTH="20%"><TD WIDTH="80%"><i>Select the orbitals to be localized within the given energy range.This type of selection cannot be added on top of the selection through a LIST. It reads to reals that are lower and higher boundaries of the energy range.</i>
<TR><TD WIDTH="10%"><TD> This keyword expects precisely     2 reals. Default unit: [eV], default value:     0.0000000000000000E+00    0.0000000000000000E+00
eV</TABLE>
<BR><hr>Back to the <A HREF="https://www.cp2k.org/">CP2K homepage</A> or the latest version of <A HREF="https://manual.cp2k.org/trunk/">this manual</A>
</BODY></HTML>
